<!DOCTYPE html><html lang="en"><head>
          <meta charset="UTF-8">
          <title>Molang</title>
          <link rel="preload" href="/assets/images/background_dark_factory.webp" as="image">
          <link rel="prefetch" href="/index.html">
          <link rel="prefetch" href="/settings.html">
          <link rel="stylesheet" href="/assets/styles/wiki_styles.css">
          <link rel="icon" href="/assets/images/melon.png" type="image/png">
          <meta name="description" content="Molang">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta property="og:title" content="Molang">
          <meta property="og:image" content="/assets/images/melon.png">
        </head>
        
        <body>
        <div class="scroll">
        <div class="navbar">
          <nav>
            <ul>
              <li><a href="/index.html" id="home_button">home</a></li>
              <li><a href="/settings.html" id="settings_title">settings</a></li>
              <li><input id="search" placeholder="search..." class="search"></li>
                <li><a id="searchbar_result" href="" style="display: none"></a></li>
            </ul>
          </nav>
        </div>
        
<div class="container" id="title">
        <div class="object_name">
<div class="object_inline_name"><h1 style="font-size: null; text-align: center">Molang</h1></div>
            <div class="object_description">
                <p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_1">
        <div class="object_name">
<div class="object_inline_name"><h1 style="font-size: null; text-align: left">Why Does Molang Exist?</h1></div>
            <div class="object_description">
                <p></p><p>Molang is a simple expression-based language designed for fast, data-driven calculation of values at run-time, and with a direct connection to in-game values and systems.  Its focus is to enable low-level systems like animation to support flexible data-driven behavior for both internal and external creators, while staying highly performant.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_1_1">
        <div class="object_name">
<div class="object_inline_name"><h1 style="font-size: null; text-align: left">Lexical Structure</h1></div>
            <div class="object_description">
                <p></p><p>The language structure is largely based on simple ‘C’ language family style syntax.  An expression can be made of either one simple value or math calculation, or can be made of several sub-expressions where more complicated code is required.</p>
<p>In simple cases, the terminating <code>;</code> is omitted and the expression result is returned.</p>
<p>In complex cases, multiple sub-expressions are each terminated with a semicolon <code>;</code>.  Complex expressions evaluate to <code>0.0</code> unless there is a <code>return</code> statement, in which case the evaluated value of the <code>return</code>’s sub-expression will be returned out of the current scope.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Case Sensitivity</h2></div>
            <div class="object_description">
                <p></p><p>All things in Molang are case-INsensitive, with the exception of strings, which maintain the case provided.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_1_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Keywords</h2></div>
            <div class="object_description">
                <p></p><p>All identifiers not in a scope listed below are reserved for future use</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`1.23`</h3></div>
            <div class="object_description">
                <p></p><p>Numerical constant value</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_1_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`! &amp;&amp; || &lt; &lt;= &gt;= &gt; == !=`</h3></div>
            <div class="object_description">
                <p></p><p>Logical operators</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_2_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`* / + -`</h3></div>
            <div class="object_description">
                <p></p><p>Basic math operators</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_3_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`(` `)`</h3></div>
            <div class="object_description">
                <p></p><p>Parentheses for expression term evaluation control</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_4_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`{` `}`</h3></div>
            <div class="object_description">
                <p></p><p>Braces for execution scope</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_5_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`??`</h3></div>
            <div class="object_description">
                <p></p><p>Null coalescing operator, for handling missing variables or stale actor references</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_6_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`geometry.texture_name`</h3></div>
            <div class="object_description">
                <p></p><p>A reference to a geometry named in the entity definition</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_7_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`material.texture_name`</h3></div>
            <div class="object_description">
                <p></p><p>A reference to a material named in the entity definition</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_8_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`texture.texture_name`</h3></div>
            <div class="object_description">
                <p></p><p>A reference to a texture named in the entity definition</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_9_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`math.function_name`</h3></div>
            <div class="object_description">
                <p></p><p>Various math functions</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_10_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`query.function_name`</h3></div>
            <div class="object_description">
                <p></p><p>Access to an entity’s properties</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_11_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`variable.variable_name`</h3></div>
            <div class="object_description">
                <p></p><p>Read/write storage on an actor</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_12_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`temp.variable_name`</h3></div>
            <div class="object_description">
                <p></p><p>Read/write temporary storage</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_13_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`context.variable_name`</h3></div>
            <div class="object_description">
                <p></p><p>Read-only storage provided by the game in certain scenarios</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_14_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`<test> ? <if true="">`</if></test></h3></div>
            <div class="object_description">
                <p></p><p>Binary conditional operator</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_15_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`<test> ? <if true=""> : <if false="">`</if></if></test></h3></div>
            <div class="object_description">
                <p></p><p>Ternary conditional operator - NOTE: Nested ternary expressions without parentheses were incorrectly parsed before a Versioned Change was made to fix it (see ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_16_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`this`</h3></div>
            <div class="object_description">
                <p></p><p>The current value that this expression will ultimately write to (context specific)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_17_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`return`</h3></div>
            <div class="object_description">
                <p></p><p>For complex expressions, this evaluates the following statement and stops execution of the expression, returns the value computed</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_18_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`-&gt;`</h3></div>
            <div class="object_description">
                <p></p><p>Arrow operator, for accessing data from a different entity</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_19_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`loop`</h3></div>
            <div class="object_description">
                <p></p><p>For repeating one or more commands ‘n’ times</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_20_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`for_each`</h3></div>
            <div class="object_description">
                <p></p><p>For iterating over an array of entities</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_21_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`break`</h3></div>
            <div class="object_description">
                <p></p><p>For early exiting a loop/for_each scope</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_22_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`continue`</h3></div>
            <div class="object_description">
                <p></p><p>For skipping the rest of the set of statements of a loop/for_each iteration and moving to the next iteration</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_23_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">`[` `]`</h3></div>
            <div class="object_description">
                <p></p><p>Brackets for array access</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_2_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Operator Precedence</h2></div>
            <div class="object_description">
                <p></p><p>Molang Operators follow this order to determine which thing is evaluated first when no parentheses are used. This should match the behavior of C or C++. Operators that are higher in this table are evaluated first, while operators on the same row are evaluated with the same priority. When operators have the same priority, they are evaluated left-to-right, except for the Ternary conditional operator, which is evaluated right-to-left. Using parentheses will allow direct control of order of evaluation, and is recommended for more complex expressions.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">(Highest Precedence)</h3></div>
            <div class="object_description">
                <p></p><p>Higher precedence operators are evaluated first when no parentheses are used to control evaluation order</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_1_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Logical Not</h3></div>
            <div class="object_description">
                <p></p><p>The Logical Not ‘!’ operator</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_2_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Multiplication and Division</h3></div>
            <div class="object_description">
                <p></p><p>Multiplication ‘*’ and Division ‘/’</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_3_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Addition and Subtraction</h3></div>
            <div class="object_description">
                <p></p><p>Addition ‘+’ and Subtraction ‘-’</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_4_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Comparisons</h3></div>
            <div class="object_description">
                <p></p><p>Comparison operators ‘&lt;’ ‘&lt;=’ ‘&gt;’ ‘&gt;=’ (See ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_5_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Equality checks</h3></div>
            <div class="object_description">
                <p></p><p>Equality checking operators ‘==’ ‘!=’ (See ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_6_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Logical AND</h3></div>
            <div class="object_description">
                <p></p><p>The Logical AND ‘&amp;&amp;’ operator (See ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_7_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Logical OR</h3></div>
            <div class="object_description">
                <p></p><p>The Logical OR ‘||’ operator (See ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_8_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Ternary Conditional</h3></div>
            <div class="object_description">
                <p></p><p>Ternary conditional operators using ‘? :’. Evaluated right-to-left when there are multiple ternary operators. (See ‘Versioned Changes’ below)</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_9_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Null Coalescing</h3></div>
            <div class="object_description">
                <p></p><p>Null coalescing operator ‘??’</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_10_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">(Lowest Precedence)</h3></div>
            <div class="object_description">
                <p></p><p>Lower precedence operators are evaluated last when no parentheses are used to control evaluation order</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_3_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Variables</h2></div>
            <div class="object_description">
                <p></p><p>There are three variable lifetimes a variable may belong to: Temporary, Entity, and Context:</p>
<ul>
<li>
<p>Temporary variables (eg: <code>temp.moo = 1;</code>) are read/write and valid for the scope they are defined in, as per C rules.  For performance reasons their lifetime is global to the current expression execution and may return a valid value outside of the outermost scope they are defined in for an expression.  Be careful in complex expressions.  We will be adding content errors for invalid accesses as soon as possible.</p>
</li>
<li>
<p>Entity variables (eg: <code>variable.moo = 1;</code>) are read/write and store their value on the entity for the lifetime of that entity.  Note that these are currently not saved, so quitting and reloading the world will re-initialize these.  In the same way, if the entity is despawned, any variables on the entity will be lost.</p>
</li>
<li>
<p>Context variables (eg: <code>context.moo</code>) are read-only and specified by the game in certain situations. Details on what variables are specified and when will be available in the documentation of the area where that Molang expression is used (such as behaviors defining what context variables they expose).</p>
</li>
</ul>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_4_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Values</h2></div>
            <div class="object_description">
                <p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_3">
        <div class="object_name">

            <div class="object_description">
                <p></p><ul>
<li>
<p>All numerical values are floats.</p>
</li>
<li>
<p>Boolean values such as actor flags are converted and stored as a float value of either 0.0 or 1.0 for values of false or true respectively.</p>
</li>
<li>
<p>For boolean tests, a float value equivalent to 0.0 is false, and anything not equal to 0.0 is true.</p>
</li>
<li>
<p>For array indices, floats are C-style-cast to ints, and clamped at zero for negative values or wrapped by the array size for large values.</p>
</li>
<li>
<p>Other supported types are:</p>
</li>
</ul>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_example_1_0_3">
  <h2 class="object_name">{ Example }</h2>
  <div style="margin-left: 1.5vw">
    <link rel="stylesheet" href="/assets/styles/github-dark.css">
    <script src="/assets/libraries/highlight.min.js"></script>
    <script defer="">hljs.highlightAll();</script>
    <pre><code>Geometry
Texture
Material
Actor Reference
Actor Reference Array
String
Struct (see 'structs' section below)</code></pre>
  </div>
</div>

<div class="container" id="node_head_2_3">
        <div class="object_name">

            <div class="object_description">
                <p></p><ul>
<li>Errors (such as divide by zero, missing variables, null references, etc) generally return a value of 0.0.</li>
</ul>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_5_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Query Functions</h2></div>
            <div class="object_description">
                <p></p><p>Query functions (eg: <code>query.is_baby</code> or <code>query.is_item_equipped('main_hand')</code>) allow expressions to read game data.  If a query function takes no arguments, do not use parentheses. Otherwise, use parentheses and separate arguments with commas. For a full list of query functions, see below.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_6_2">
        <div class="object_name">
<div class="object_inline_name"><h2 style="font-size: null; text-align: left">Aliases</h2></div>
            <div class="object_description">
                <p></p><p>To reduce typing burden and increase clarity when reading and writing Molang, the following keyword aliases can make life a bit easier.  Note that left and right sides function identically.</p>
<p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_3">
        <div class="object_name">
<div class="object_inline_name"><h3 style="font-size: null; text-align: left">Alias Mapping</h3></div>
            <div class="object_description">
                <p></p>
            </div>
        </div>
        </div>

<div class="container" id="node_head_0_4">
        <div class="object_name">
<div class="object_inline_name"><h4 style="font-size: null; text-align: left">`context.moo`</h4></div>
            <div class="object_description">
                <p></p><p><code>c.moo</code></p>
<p></p>
            </div>
        </div>
        </div>





























































































































































































































































































































































































































































































































































































































































































































































































































































    <script src="/assets/js/LanguageHandler.js"></script>
        <script src="/assets/js/occlusionPilot.js"></script>
        <script src="/assets/js/preloadPilot.js"></script>
        <script src="/assets/js/chunkPilot.js"></script>
                        <script src="/assets/libraries/index.min.js" defer=""></script>
                <script>
                window.onload = function () {
                    let searchData = null;
                    async function LoadData() {
                        if (searchData !== null) {
                            return searchData;
                        }
                        const res = await fetch('/assets/index_list.json');
                        searchData = await res.json();
                        return searchData;
                    }
                    
                    
                    let miniSearch = new MiniSearch({
                      fields: ['id'],
                      storeFields: ['id', 'href'],
                      searchOptions: {
                          prefix: true
                      }
                    })
                    let dataLoaded = false;
                    const searchbar = document.getElementById("search");
                    searchbar.addEventListener("input", async function() {
                        searchData = await LoadData();
                        
                        if (!dataLoaded) {
                            for (const key in searchData){
                                for (const subkey in searchData[key]){
                                    miniSearch.add({
                                        "id": subkey,
                                        "href": searchData[key][subkey],
                                    });
                                }
                            }
                            dataLoaded = true;
                        }
                        
                        
                        
                        const searchResults = miniSearch.search(searchbar.value, { fuzzy: 0.2 });
                        if (searchResults.length > 0) {
                            document.getElementById("searchbar_result").innerHTML = searchResults[0].id;
                            document.getElementById("searchbar_result").style.display = "block";
                            document.getElementById("searchbar_result").setAttribute("href", searchResults[0].href);
                        }
                        else {
                            document.getElementById("searchbar_result").innerHTML = "";
                        }
                    })
                };
                </script>
                </div>
        </body></html>